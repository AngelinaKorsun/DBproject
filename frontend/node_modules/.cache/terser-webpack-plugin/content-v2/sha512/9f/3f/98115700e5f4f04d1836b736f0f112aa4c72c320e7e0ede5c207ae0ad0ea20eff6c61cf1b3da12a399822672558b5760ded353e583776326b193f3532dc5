{"map":"{\"version\":3,\"sources\":[\"/home/sergol/DBprojects/instaz/frontend/src/components/Header.js\",\"/home/sergol/DBprojects/instaz/frontend/src/utils/InstazApi.js\",\"/home/sergol/DBprojects/instaz/frontend/src/actions/index.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/CommentForm.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/PostListItem.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/PostList.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/SideMenu.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/Home.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/ErrorMessages.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/Login.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/Signup.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/PostDetail.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/PostForm.js\",\"/home/sergol/DBprojects/instaz/frontend/src/components/App.js\",\"/home/sergol/DBprojects/instaz/frontend/src/reducers/index.js\",\"/home/sergol/DBprojects/instaz/frontend/src/serviceWorker.js\",\"/home/sergol/DBprojects/instaz/frontend/src/index.js\",\"/home/sergol/DBprojects/instaz/frontend/src/middlewares/index.js\"],\"names\":[\"Header\",\"authMenu\",\"react_default\",\"a\",\"createElement\",\"className\",\"react_router_dom\",\"to\",\"userMenu\",\"onClick\",\"this\",\"props\",\"logoutUser\",\"currentUser\",\"id\",\"React\",\"Component\",\"instazApi\",\"axios\",\"create\",\"baseURL\",\"process\",\"REACT_APP_API_URL\",\"interceptors\",\"request\",\"use\",\"config\",\"token\",\"window\",\"localStorage\",\"getItem\",\"headers\",\"Object\",\"assign\",\"Authorization\",\"concat\",\"type\",\"likePost\",\"postId\",\"_ref4\",\"asyncToGenerator\",\"regenerator_default\",\"mark\",\"_callee4\",\"dispatch\",\"wrap\",\"_context4\",\"prev\",\"next\",\"post\",\"then\",\"response\",\"payload\",\"error\",\"data\",\"message\",\"stop\",\"_x4\",\"apply\",\"arguments\",\"addComment\",\"_ref6\",\"_ref7\",\"_callee6\",\"_context6\",\"_x6\",\"editPost\",\"_ref10\",\"_callee8\",\"postData\",\"_context8\",\"FormData\",\"keys\",\"forEach\",\"key\",\"append\",\"patch\",\"content-type\",\"_x8\",\"CommentForm\",\"_this\",\"formik_esm\",\"initialValues\",\"onSubmit\",\"values\",\"_ref\",\"resetForm\",\"_ref2\",\"isSubmitting\",\"errors\",\"touched\",\"handleChange\",\"elementId\",\"name\",\"maxLength\",\"placeholder\",\"onChange\",\"value\",\"PostListItem\",\"state\",\"isArchiving\",\"redirectToHome\",\"_this2\",\"react_router\",\"_this$props\",\"isPreview\",\"showActions\",\"timesince_posted\",\"author\",\"username\",\"src\",\"avatar\",\"alt\",\"image\",\"caption\",\"user\",\"is_liked\",\"document\",\"getElementById\",\"focus\",\"data-inverted\",\"data-tooltip\",\"data-position\",\"setState\",\"objectSpread\",\"is_active\",\"postActionsElem\",\"likes\",\"length\",\"captionPreviewElem\",\"comments\",\"map\",\"comment\",\"index\",\"components_CommentForm\",\"PostList\",\"fetchPosts\",\"posts\",\"components_PostListItem\",\"connect\",\"_callee\",\"_context\",\"get\",\"sent\",\"_x\",\"SideMenu\",\"guestMenu\",\"tabIndex\",\"Home\",\"components_PostList\",\"components_SideMenu\",\"ErrorMessages\",\"LoginSchema\",\"Yup\",\"shape\",\"required\",\"password\",\"Login\",\"components_ErrorMessages\",\"errorMessages\",\"validationSchema\",\"setSubmitting\",\"loginUser\",\"component\",\"userData\",\"_callee2\",\"_context2\",\"_x2\",\"SignupSchema\",\"email\",\"passwordConfirmation\",\"oneOf\",\"Signup\",\"registerUser\",\"_ref3\",\"_callee3\",\"_context3\",\"_x3\",\"PostDetail\",\"viewPost\",\"match\",\"params\",\"loadingDOM\",\"currentPost\",\"_ref5\",\"_callee5\",\"_context5\",\"_x5\",\"SUPPORTED_FORMATS\",\"PostFormSchema\",\"test\",\"size\",\"includes\",\"max\",\"Thumb\",\"loading\",\"thumb\",\"undefined\",\"rawFile\",\"nextProps\",\"file\",\"reader\",\"FileReader\",\"onloadend\",\"result\",\"readAsDataURL\",\"_this$state\",\"PostForm\",\"createdPost\",\"_this4\",\"addPost\",\"setFieldValue\",\"event\",\"currentTarget\",\"files\",\"PostForm_Thumb\",\"_ref8\",\"_ref9\",\"_callee7\",\"_context7\",\"_x7\",\"App\",\"components_Header\",\"path\",\"exact\",\"components_Home\",\"combineReducers\",\"action\",\"push\",\"temporaryPosts\",\"currentPostCopy\",\"tempErrors\",\"errorKey\",\"Boolean\",\"location\",\"hostname\",\"store\",\"createStore\",\"reducers\",\"applyMiddleware\",\"thunk\",\"setItem\",\"removeItem\",\"ReactDOM\",\"render\",\"es\",\"navigator\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport { Link } from 'react-router-dom';\\n\\nclass Header extends React.Component {\\n  render() {\\n    const authMenu = (\\n      <div className=\\\"ui large borderless menu\\\">\\n        <Link className=\\\"header item\\\" to=\\\"/\\\">Instaz</Link>\\n        <Link className=\\\"right floated item\\\" to=\\\"/login\\\">Login</Link>\\n        <Link className=\\\"item\\\" to=\\\"/signup\\\">Signup</Link>\\n      </div>\\n    );\\n\\n    const userMenu = (\\n      <div className=\\\"ui large borderless menu\\\">\\n        <Link className=\\\"header item\\\" to=\\\"/\\\">Instaz</Link>\\n        <a className=\\\"clickable right floated item\\\" onClick={this.props.logoutUser}>Logout</a>\\n      </div>\\n    );\\n\\n    return(\\n      <div className=\\\"ui grid Header\\\">\\n        <div className=\\\"computer only row\\\">\\n          <div className=\\\"column\\\">\\n            {\\n              this.props.currentUser ? userMenu : authMenu\\n            }\\n          </div>\\n        </div>\\n\\n        <div className=\\\"tablet mobile only row\\\">\\n          <div className=\\\"column\\\">\\n            <div className=\\\"ui large borderless menu\\\">\\n              <Link className=\\\"header item\\\" to=\\\"/\\\">Instaz</Link>\\n              <a id=\\\"mobile_item\\\" className=\\\"item right floated\\\"><i className=\\\"bars icon\\\"></i></a>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Header;\\n\",\"import axios from 'axios';\\n\\nconst instazApi = axios.create({\\n  baseURL: process.env.REACT_APP_API_URL\\n});\\n\\ninstazApi.interceptors.request.use(config => {\\n  const token = window.localStorage.getItem(\\\"jwt\\\");\\n  if (token) {\\n    config.headers = Object.assign({\\n      Authorization: `Token ${token}`\\n    }, config.headers)\\n  }\\n\\n  return config;\\n});\\n\\nexport default instazApi;\\n\",\"import instazApi from '../utils/InstazApi';\\n\\nconst fetchPosts = () => async dispatch => {\\n  const response = await instazApi.get('/posts');\\n\\n  dispatch({\\n    type: 'FETCH_POSTS',\\n    payload: response\\n  });\\n};\\n\\nconst loginUser = userData => async dispatch => {\\n  await instazApi.post('/users/auth/login/', {...userData}).then(\\n    response => {\\n      dispatch({\\n        type: 'LOGIN_USER',\\n        payload: response.data\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'LOGIN_USER_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nconst registerUser = userData => async dispatch => {\\n  await instazApi.post('/users/auth/signup/', { ...userData }).then(\\n    response => {\\n      dispatch({\\n        type: 'NEW_USER',\\n        payload: response.data\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'NEW_USER_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nconst logoutUser = () => {\\n  return {\\n    type: 'LOGOUT_USER'\\n  };\\n};\\n\\nconst likePost = (postId) => async dispatch => {\\n  await instazApi.post(`/posts/${postId}/like/`).then(\\n    response => {\\n      dispatch({\\n        type: 'TOGGLE_POST_LIKE',\\n        payload: { postId }\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'TOGGLE_POST_LIKE_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nconst viewPost = (postId) => async dispatch => {\\n  await instazApi.get(`/posts/${postId}/`).then(\\n    response => {\\n      dispatch({\\n        type: 'VIEW_POST',\\n        payload: response.data\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'VIEW_POST_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nconst addComment = ({ post, message }) => async dispatch => {\\n  await instazApi.post('/comments/', { post, message }).then(\\n    response => {\\n      dispatch({\\n        type: 'ADD_COMMENT',\\n        payload: response.data\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'ADD_COMMENT_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nconst addPost = ({ image, caption }) => async dispatch => {\\n  const postData = new FormData();\\n  postData.append('image', image);\\n  postData.append('caption', caption);\\n\\n  await instazApi.post(\\n    \\\"/posts/\\\",\\n    postData,\\n    { headers: { 'content-type': 'multipart/form-data' }}\\n  ).then(\\n    response => {\\n      dispatch({\\n        type: 'ADD_POST',\\n        payload: response.data\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'ADD_POST_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nconst editPost = post => async dispatch => {\\n  const postData = new FormData();\\n  Object.keys(post).forEach(key => {\\n    if (key === 'image' && typeof post[key] === 'string') return;\\n\\n    postData.append(key, post[key]);\\n  });\\n\\n  await instazApi.patch(\\n    `/posts/${post.id}/`,\\n    postData,\\n    { headers: { 'content-type': 'multipart/form-data' }}\\n  ).then(\\n    response => {\\n      dispatch({\\n        type: 'EDIT_POST',\\n        payload: response.data\\n      });\\n    },\\n    error => {\\n      dispatch({\\n        type: 'EDIT_POST_FAILURE',\\n        payload: error.response ? error.response.data : error.message\\n      });\\n    }\\n  );\\n};\\n\\nexport {\\n  addComment, addPost, editPost, fetchPosts, likePost,\\n  loginUser, registerUser, logoutUser, viewPost\\n};\\n\",\"import React from 'react';\\nimport { Formik, Form } from 'formik';\\n\\nclass CommentForm extends React.Component {\\n  render() {\\n    return(\\n      <div className=\\\"extra content\\\">\\n        <Formik\\n          initialValues={{\\n            message: '',\\n            post: this.props.post.id,\\n          }}\\n          onSubmit={(values, { resetForm }) => {\\n            this.props.addComment(values).then(response => {\\n              resetForm();\\n              values.message = ''; // clear form\\n            });\\n          }}\\n        >\\n          {({ values, errors, touched, isSubmitting, handleChange }) => (\\n            <Form className={isSubmitting ? \\\"ui loading form\\\" : \\\"ui form\\\"}>\\n              <div className=\\\"ui large transparent left icon input\\\">\\n                <i className=\\\"comment outline icon\\\"></i>\\n                <input\\n                  className=\\\"comment-field\\\"\\n                  id={this.props.elementId}\\n                  type=\\\"text\\\"\\n                  name=\\\"message\\\"\\n                  maxLength=\\\"400\\\"\\n                  placeholder=\\\"Add Comment...\\\"\\n                  onChange={handleChange}\\n                  value={values.message}\\n                />\\n              </div>\\n            </Form>\\n          )}\\n        </Formik>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default CommentForm;\\n\",\"import React from 'react';\\nimport { Link, Redirect } from 'react-router-dom';\\n\\nimport CommentForm from './CommentForm';\\n\\nclass PostListItem extends React.Component {\\n  state = {\\n    isArchiving: false,\\n    redirectToHome: false\\n  };\\n\\n  render() {\\n    if (this.state.redirectToHome) {\\n      return <Redirect to=\\\"/\\\" />;\\n    }\\n\\n    const { currentUser, post, isPreview, showActions } = this.props;\\n    const captionPreviewElem = ({ id, caption }) => (\\n      <span>\\n        {caption + '...'} <Link className=\\\"ui sub header\\\" to={`/p/${id}`}>View full caption</Link>\\n      </span>\\n    );\\n    const postActionsElem = (user, post) => (\\n      <div className=\\\"content action-icons\\\">\\n        <i\\n          onClick={() => this.props.likePost(post.id)}\\n          className={\\\"clickable big heart like icon\\\" + (post.is_liked ? \\\" red\\\" : \\\"\\\")}>\\n        </i>\\n        <i\\n          onClick={() => { document.getElementById(`comment-field${post.id}`).focus(); }}\\n          className=\\\"clickable big comment outline link icon\\\">\\n        </i>\\n        <i className=\\\"clickable big share icon\\\"></i>\\n        {\\n          // Show archive button for post owner\\n          post.author.username === user.username\\n            ? <span\\n                className=\\\"clickable right floated\\\"\\n                data-inverted=\\\"\\\"\\n                data-tooltip={ this.state.isArchiving ? \\\"Archiving...\\\" : \\\"Archive this post\\\" }\\n                data-position=\\\"top center\\\"\\n                onClick={() => {\\n                  this.setState({ isArchiving: true });\\n                  this.props.editPost({ ...post, is_active: false }).then(() => {\\n                    this.setState({ isArchiving: false, redirectToHome: !isPreview });\\n                  });\\n                }}>\\n                  <i className={\\n                    (this.state.isArchiving\\n                     ? \\\"ui loading circle notch\\\"\\n                     : \\\"archive icon\\\") + \\\" big link icon\\\"\\n                  }></i>\\n              </span>\\n          : null\\n        }\\n      </div>\\n    );\\n\\n    return(\\n      <div className=\\\"ui fluid card\\\">\\n        <div className=\\\"content\\\">\\n          <Link className=\\\"ui right floated sub header\\\" to={`/p/${post.id}`}>{post.timesince_posted} ago</Link>\\n          <Link className=\\\"ui left floated small header\\\" to={`/u/${post.author.username}`}>\\n            <img className=\\\"ui avatar image\\\" src={post.author.avatar} alt={`${post.author.username}'s avatar`} />\\n            {post.author.username}\\n          </Link>\\n        </div>\\n        <div className=\\\"image\\\">\\n          <img src={post.image} alt={post.caption} />\\n        </div>\\n        {\\n          // Only show action icons for authenticated user\\n          showActions ? postActionsElem(currentUser, post) : null\\n        }\\n        <div className=\\\"relaxed content\\\">\\n          <p className=\\\"ui sub header\\\">{post.likes} likes</p>\\n          <p className=\\\"post-description\\\">\\n            <Link className=\\\"ui left floated small header author\\\" to={`/u/${post.author.username}`}>\\n              {post.author.username}\\n            </Link>\\n            {post.caption && post.caption.length > 120 && isPreview ? captionPreviewElem(post) : post.caption}\\n          </p>\\n          { post.comments.length > 0 ? <div className=\\\"ui divider\\\"></div> : null }\\n          {\\n            post.comments.map((comment, index) => {\\n              // Only show up to 3 comments for posts in list\\n              return isPreview && index > 2 ? null : (\\n                <p key={comment.id}>\\n                  <Link className=\\\"ui left floated small header\\\" to={`/u/${comment.author.username}`}>\\n                    {comment.author.username}\\n                  </Link>\\n                  {comment.message}\\n                </p>\\n              )\\n            })\\n          }\\n          {\\n            isPreview && post.comments.length > 3\\n            ? <Link className=\\\"ui left floated sub header\\\" to={`/p/${post.id}`}>View all comments</Link>\\n            : null\\n          }\\n        </div>\\n        {\\n          // Only show comment form for authenticated user\\n          showActions ? (\\n            <CommentForm post={post} addComment={this.props.addComment} elementId={`comment-field${post.id}`} />\\n          ) : null\\n        }\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default PostListItem;\\n\",\"import React from 'react';\\nimport { connect } from 'react-redux';\\n\\nimport { addComment, editPost, fetchPosts, likePost } from '../actions';\\nimport PostListItem from './PostListItem';\\n\\nclass PostList extends React.Component {\\n  componentDidMount() {\\n    this.props.fetchPosts();\\n  }\\n\\n  render() {\\n    return(\\n      <div className=\\\"left aligned nine wide computer sixteen wide mobile column post-list\\\">\\n        {\\n          this.props.posts.map(post => {\\n            return(\\n              <PostListItem\\n                key={post.id}\\n                post={post}\\n                currentUser={this.props.currentUser}\\n                editPost={this.props.editPost}\\n                addComment={this.props.addComment}\\n                likePost={this.props.likePost}\\n                showActions={this.props.currentUser ? true : false}\\n                isPreview={true} />\\n            )\\n          })\\n        }\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  return { posts: state.posts };\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  { addComment, editPost, fetchPosts, likePost }\\n)(PostList);\\n\",\"import React from 'react';\\nimport { Link } from 'react-router-dom';\\n\\nclass SideMenu extends React.Component {\\n  render() {\\n    const loggedInMenu = user => (\\n      <div className=\\\"sticky-menu\\\">\\n        <div className=\\\"user-info\\\">\\n          <Link className=\\\"ui medium header\\\" to={`/u/${user.username}`}>\\n            <img className=\\\"ui avatar image\\\" src={user.avatar} alt={`${user.username}'s avatar`} />\\n            {user.username}\\n          </Link>\\n        </div>\\n        <div className=\\\"ui hidden divider\\\"></div>\\n        <Link className=\\\"ui labeled button add-button\\\" tabIndex=\\\"0\\\" to=\\\"/p/new\\\">\\n          <div className=\\\"ui black button\\\">\\n            <i className=\\\"plus square outline icon\\\"></i> Add Post\\n          </div>\\n        </Link>\\n        <div className=\\\"ui vertical menu\\\">\\n          <div className=\\\"item\\\">\\n            <div className=\\\"ui input\\\"><input type=\\\"text\\\" placeholder=\\\"Search...\\\" /></div>\\n          </div>\\n          <a className=\\\"item\\\">\\n            <i className=\\\"user icon\\\"></i> Profile\\n          </a>\\n          <a className=\\\"item\\\">\\n            <i className=\\\"archive icon\\\"></i> Archive\\n          </a>\\n          <a className=\\\"item\\\">\\n            Messages\\n            <div className=\\\"ui label\\\">0</div>\\n          </a>\\n          <a className=\\\"item\\\" onClick={this.props.logoutUser}>\\n            <i className=\\\"sign-out icon\\\"></i> Logout\\n          </a>\\n        </div>\\n      </div>\\n    );\\n\\n    const guestMenu = (\\n      <div className=\\\"ui vertical menu sticky-menu\\\">\\n        <div className=\\\"item\\\">\\n          <div className=\\\"ui input\\\"><input type=\\\"text\\\" placeholder=\\\"Search...\\\"/></div>\\n        </div>\\n        <Link className=\\\"item\\\" to=\\\"/login\\\">\\n          <i className=\\\"sign-in icon\\\"></i> Login\\n        </Link>\\n        <Link className=\\\"item\\\" to=\\\"/signup\\\">\\n          <i className=\\\"user plus icon\\\"></i> Signup\\n        </Link>\\n      </div>\\n    );\\n\\n    return(\\n      <div className=\\\"four wide column computer only\\\">\\n        {\\n          this.props.currentUser ? loggedInMenu(this.props.currentUser) : guestMenu\\n        }\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default SideMenu;\\n\",\"import React from 'react';\\n\\nimport PostList from './PostList';\\nimport SideMenu from './SideMenu';\\n\\nclass Home extends React.Component {\\n\\n  render() {\\n    return (\\n      <div className=\\\"Home\\\">\\n        <div className=\\\"ui container center aligned\\\">\\n          <div className=\\\"ui three column stackable grid\\\">\\n            <div className=\\\"two wide column computer only\\\"></div>\\n            <PostList currentUser={this.props.currentUser} />\\n            <SideMenu currentUser={this.props.currentUser} logoutUser={this.props.logoutUser} />\\n          </div>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default Home;\\n\",\"import React from 'react';\\n\\nconst ErrorMessages = ({ errors }) => errors && errors.length > 0 ? (\\n  <div className=\\\"ui error message\\\">\\n    <div className=\\\"header\\\">\\n      There were some errors with your submission\\n              </div>\\n    <ul className=\\\"list\\\">\\n      {\\n        errors.map((error, index) => {\\n          return <li key={index}>{error}</li>;\\n        })\\n      }\\n    </ul>\\n  </div>\\n) : null;\\n\\nexport default ErrorMessages;\\n\",\"import React from 'react';\\nimport { connect } from 'react-redux';\\nimport { Link, Redirect } from 'react-router-dom';\\nimport { Formik, Form, ErrorMessage } from 'formik';\\nimport * as Yup from 'yup';\\n\\nimport { loginUser } from '../actions';\\nimport ErrorMessages from './ErrorMessages';\\n\\nconst LoginSchema = Yup.object().shape({\\n  username: Yup.string()\\n    .required('This field is required'),\\n  password: Yup.string()\\n    .required('This field is required'),\\n});\\n\\nclass Login extends React.Component {\\n  render() {\\n    return (\\n      <div className=\\\"Login\\\">\\n        <div className=\\\"ui container segment\\\">\\n          <h2 className=\\\"ui center aligned header\\\">\\n            <div className=\\\"content\\\">\\n              Login\\n              <div className=\\\"sub header\\\">Don't have an account yet? <Link to=\\\"/signup\\\">Signup</Link> for an account!</div>\\n            </div>\\n          </h2>\\n          <ErrorMessages errors={this.props.errorMessages} />\\n          <Formik\\n            initialValues={{\\n              username: '',\\n              password: '',\\n            }}\\n            validationSchema={LoginSchema}\\n            onSubmit={(values, { setSubmitting }) => {\\n              this.props.loginUser(values).then(response => {\\n                setSubmitting(false);\\n              });\\n            }}\\n          >\\n            {({ values, errors, touched, isSubmitting, handleChange }) => (\\n              <Form className={isSubmitting ? \\\"ui loading form\\\" : \\\"ui form\\\"}>\\n                <div className=\\\"required field\\\">\\n                  <label>Username</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"text\\\" name=\\\"username\\\" placeholder=\\\"Username\\\" onChange={handleChange} value={values.username} />\\n                    <i className=\\\"user icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"username\\\" component=\\\"div\\\" />\\n                </div>\\n                <div className=\\\"required field\\\">\\n                  <label>Password</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"Password\\\" onChange={handleChange} value={values.password} />\\n                    <i className=\\\"lock icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"password\\\" component=\\\"div\\\" />\\n                </div>\\n                <button className=\\\"ui button\\\" type=\\\"submit\\\">Submit</button>\\n              </Form>\\n            )}\\n          </Formik>\\n          {\\n            this.props.currentUser ? <Redirect to=\\\"/\\\" /> : null\\n          }\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  const { errorMessages, currentUser } = state;\\n  return { errorMessages, currentUser };\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  { loginUser }\\n)(Login);\\n\",\"import React from 'react';\\nimport { Link, Redirect } from 'react-router-dom';\\nimport { connect } from 'react-redux';\\nimport { Formik, Form, ErrorMessage } from 'formik';\\nimport * as Yup from 'yup';\\n\\nimport { registerUser } from '../actions';\\nimport ErrorMessages from './ErrorMessages';\\n\\nconst SignupSchema = Yup.object().shape({\\n  username: Yup.string()\\n    .required('This field is required'),\\n  email: Yup.string()\\n    .email('Please provide a valid email')\\n    .required('This field is required'),\\n  password: Yup.string()\\n    .required('This field is required'),\\n  passwordConfirmation: Yup.string()\\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\\n});\\n\\nclass Signup extends React.Component {\\n  render() {\\n    return (\\n      <div className=\\\"Signup\\\">\\n        <div className=\\\"ui container segment\\\">\\n          <h2 className=\\\"ui center aligned header\\\">\\n            <div className=\\\"content\\\">\\n              Signup\\n              <div className=\\\"sub header\\\">Already have an account? Use it to <Link to=\\\"/login\\\">login</Link>!</div>\\n            </div>\\n          </h2>\\n          <ErrorMessages errors={this.props.errorMessages} />\\n          <Formik\\n            initialValues={{\\n              username: '',\\n              email: '',\\n              password: '',\\n              passwordConfirmation: '',\\n            }}\\n            validationSchema={SignupSchema}\\n            onSubmit={(values, { setSubmitting }) => {\\n              this.props.registerUser(values).then(response => {\\n                setSubmitting(false);\\n              });\\n            }}\\n          >\\n            {({ values, errors, touched, isSubmitting, handleChange }) => (\\n              <Form className={isSubmitting ? \\\"ui loading form\\\" : \\\"ui form\\\"}>\\n                <div className=\\\"required field\\\">\\n                  <label>Username</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"text\\\" name=\\\"username\\\" placeholder=\\\"Username\\\" onChange={handleChange} value={values.username} />\\n                    <i className=\\\"user icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"username\\\" component=\\\"div\\\" />\\n                </div>\\n                <div className=\\\"field\\\">\\n                  <label>Email address</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"email\\\" name=\\\"email\\\" placeholder=\\\"Email address\\\" onChange={handleChange} value={values.email} />\\n                    <i className=\\\"envelope outline icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"email\\\" component=\\\"div\\\" />\\n                </div>\\n                <div className=\\\"required field\\\">\\n                  <label>Password</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"Password\\\" onChange={handleChange} value={values.password} />\\n                    <i className=\\\"lock icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"password\\\" component=\\\"div\\\" />\\n                </div>\\n                <div className=\\\"required field\\\">\\n                  <label>Password Confirmation</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"password\\\" name=\\\"passwordConfirmation\\\" placeholder=\\\"Password Confirmation\\\" onChange={handleChange} value={values.passwordConfirmation} />\\n                    <i className=\\\"lock icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"passwordConfirmation\\\" component=\\\"div\\\" />\\n                </div>\\n                <button className=\\\"ui button\\\" type=\\\"submit\\\">Submit</button>\\n              </Form>\\n            )}\\n          </Formik>\\n          {\\n            this.props.currentUser ? <Redirect to=\\\"/\\\" /> : null\\n          }\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  const { errorMessages, currentUser } = state;\\n  return { errorMessages, currentUser };\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  { registerUser }\\n)(Signup);\\n\",\"import React from 'react';\\nimport { connect } from 'react-redux';\\n\\nimport PostListItem from './PostListItem';\\nimport SideMenu from './SideMenu';\\nimport { addComment, editPost, likePost, logoutUser, viewPost } from '../actions';\\n\\nclass PostDetail extends React.Component {\\n  componentDidMount() {\\n    this.props.viewPost(this.props.match.params.id);\\n  }\\n\\n  render() {\\n    const loadingDOM = (\\n      <div className=\\\"ui segment loading-div\\\">\\n        <div className=\\\"ui active inverted dimmer\\\">\\n          <div className=\\\"ui massive text loader\\\">Loading</div>\\n        </div>\\n      </div>\\n    );\\n\\n    const postDOM = post => (\\n      <div className=\\\"ui three column stackable grid\\\">\\n        <div className=\\\"two wide column computer only\\\"></div>\\n        <div className=\\\"left aligned nine wide computer sixteen wide mobile column\\\">\\n          <PostListItem\\n            key={post.id}\\n            post={post}\\n            currentUser={this.props.currentUser}\\n            addComment={this.props.addComment}\\n            editPost={this.props.editPost}\\n            likePost={this.props.likePost}\\n            showActions={this.props.currentUser ? true : false}\\n            isPreview={false} />\\n        </div>\\n        <SideMenu currentUser={this.props.currentUser} logoutUser={this.props.logoutUser} />\\n      </div>\\n    );\\n\\n    return (\\n      <div className=\\\"PostDetail\\\">\\n        <div className=\\\"ui container center aligned\\\">\\n          {\\n            this.props.currentPost\\n            ? postDOM(this.props.currentPost)\\n            : loadingDOM\\n          }\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  const { currentPost, currentUser } = state;\\n  return { currentPost, currentUser };\\n}\\n\\nexport default connect(\\n  mapStateToProps,\\n  { addComment, editPost, likePost, logoutUser, viewPost }\\n)(PostDetail);\\n\",\"import React from 'react';\\nimport { connect } from 'react-redux';\\nimport { Redirect } from 'react-router-dom';\\nimport { Formik, Form, ErrorMessage } from 'formik';\\nimport * as Yup from 'yup';\\n\\nimport { addPost } from '../actions';\\nimport ErrorMessages from './ErrorMessages';\\n\\nconst FILE_SIZE = 3 * 1024 * 1024;\\nconst SUPPORTED_FORMATS = [\\n  \\\"image/jpg\\\",\\n  \\\"image/jpeg\\\",\\n  \\\"image/gif\\\",\\n  \\\"image/png\\\"\\n];\\n\\nconst PostFormSchema = Yup.object().shape({\\n  image: Yup.mixed()\\n    .required('This field is required')\\n    .test(\\n      \\\"fileSize\\\",\\n      \\\"File too large (should not be bigger than 3 MB)\\\",\\n      value => value && value.size <= FILE_SIZE\\n    )\\n    .test(\\n      \\\"fileFormat\\\",\\n      \\\"Unsupported Format (Only JPG, PNG, and GIFs are accepted)\\\",\\n      value => value && SUPPORTED_FORMATS.includes(value.type)\\n    ),\\n  caption: Yup.string()\\n    .max(200, 'Caption can only be up to 200 characters.')\\n});\\n\\nclass Thumb extends React.Component {\\n  state = {\\n    loading: false,\\n    thumb: undefined,\\n    rawFile: null,\\n  };\\n\\n  componentWillReceiveProps(nextProps) {\\n    if (!nextProps.file || nextProps.file === this.state.rawFile) { return; }\\n\\n    this.setState({ loading: true, rawFile: nextProps.file }, () => {\\n      let reader = new FileReader();\\n\\n      reader.onloadend = () => {\\n        this.setState({ loading: false, thumb: reader.result });\\n      };\\n\\n      reader.readAsDataURL(nextProps.file);\\n    });\\n  }\\n\\n  render() {\\n    const { file } = this.props;\\n    const { loading, thumb } = this.state;\\n\\n    if (!file) {\\n      return null;\\n    }\\n\\n    if (loading) {\\n      return <p>Loading...</p>;\\n    }\\n\\n    return (\\n      <div>\\n        <div className=\\\"ui tiny header\\\">\\n          Preview:\\n        </div>\\n        <img src={thumb} alt={file.name} className=\\\"ui centered bordered medium image\\\"/>\\n      </div>\\n    );\\n  }\\n}\\n\\nclass PostForm extends React.Component {\\n  state = {\\n    createdPost: null\\n  };\\n\\n  render() {\\n    if (this.props.currentUser === null) {\\n      return <Redirect to=\\\"/login\\\" />;\\n    }\\n\\n    if (this.state.createdPost !== null) {\\n      return <Redirect to={`/p/${this.state.createdPost.id}`} />;\\n    }\\n\\n    return (\\n      <div className=\\\"PostForm\\\">\\n        <div className=\\\"ui container segment\\\">\\n          <h2 className=\\\"ui center aligned header\\\">\\n            <div className=\\\"content\\\">\\n              Add Post\\n              <div className=\\\"sub header\\\">Share a moment with everyone!</div>\\n            </div>\\n          </h2>\\n          <ErrorMessages errors={this.props.errorMessages} />\\n          <Formik\\n            initialValues={{\\n              image: null,\\n              caption: '',\\n            }}\\n            validationSchema={PostFormSchema}\\n            onSubmit={(values, { setSubmitting, props }) => {\\n              this.props.addPost(values).then(response => {\\n                setSubmitting(false);\\n                this.setState({ createdPost: this.props.currentPost });\\n              });\\n            }}\\n          >\\n            {({ values, errors, touched, isSubmitting, handleChange, setFieldValue }) => (\\n              <Form className={isSubmitting ? \\\"ui loading form\\\" : \\\"ui form\\\"}>\\n                <div className=\\\"required field\\\">\\n                  <label>Image</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input\\n                      type=\\\"file\\\"\\n                      name=\\\"image\\\"\\n                      placeholder=\\\"Image\\\"\\n                      onChange={(event) => { setFieldValue(\\\"image\\\", event.currentTarget.files[0]); }}\\n                    />\\n                    <i className=\\\"file image icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"image\\\" component=\\\"div\\\" />\\n                </div>\\n                <Thumb file={values.image} />\\n                <div className=\\\"field\\\">\\n                  <label>Caption</label>\\n                  <div className=\\\"ui left icon input\\\">\\n                    <input type=\\\"caption\\\" name=\\\"caption\\\" placeholder=\\\"Caption\\\" onChange={handleChange} value={values.caption} />\\n                    <i className=\\\"quote left icon\\\"></i>\\n                  </div>\\n                  <ErrorMessage className=\\\"error\\\" name=\\\"caption\\\" component=\\\"div\\\" />\\n                </div>\\n                <button className=\\\"ui button\\\" type=\\\"submit\\\">Submit</button>\\n              </Form>\\n            )}\\n          </Formik>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  const { errorMessages, currentUser, currentPost } = state;\\n  return { errorMessages, currentUser, currentPost };\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  { addPost }\\n)(PostForm);\\n\",\"import React from 'react';\\nimport { Switch, Route } from 'react-router-dom';\\nimport { connect } from 'react-redux';\\n\\nimport Header from './Header';\\nimport Home from './Home';\\nimport Login from './Login';\\nimport Signup from './Signup';\\nimport PostDetail from './PostDetail';\\nimport PostForm from './PostForm';\\nimport { logoutUser } from '../actions';\\n\\nclass App extends React.Component {\\n\\n  render() {\\n    return (\\n      <div className=\\\"App\\\">\\n        <Header currentUser={this.props.currentUser} logoutUser={this.props.logoutUser} />\\n\\n        <Switch>\\n          <Route\\n            path=\\\"/\\\"\\n            exact\\n            component={\\n              () => <Home currentUser={this.props.currentUser} logoutUser={this.props.logoutUser}/>\\n            }\\n          />\\n          <Route path=\\\"/login\\\" component={Login} />\\n          <Route path=\\\"/signup\\\" component={Signup} />\\n          <Route path=\\\"/p/new\\\" component={PostForm} />\\n          <Route path=\\\"/p/:id\\\" component={PostDetail} />\\n        </Switch>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  return { currentUser: state.currentUser }\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  { logoutUser }\\n)(App);\\n\",\"import { combineReducers } from 'redux';\\n\\nconst postsReducer = (posts=[], action) => {\\n  if (action.type === 'FETCH_POSTS') {\\n    return action.payload.data;\\n  }\\n\\n  if (action.type === 'TOGGLE_POST_LIKE') {\\n    return posts.map(post => {\\n      if (post.id === action.payload.postId) {\\n        post.is_liked = !post.is_liked;\\n        post.likes = post.is_liked ? post.likes + 1 : post.likes - 1;\\n      }\\n\\n      return post;\\n    });\\n  }\\n\\n  if (action.type === 'ADD_COMMENT') {\\n    return posts.map(post => {\\n      if (post.id === action.payload.post) {\\n        post.comments.push(action.payload);\\n      }\\n\\n      return post;\\n    });\\n  }\\n\\n  if (action.type === 'EDIT_POST') {\\n    let temporaryPosts = [];\\n    posts.forEach(post => {\\n      if (post.id === action.payload.id) {\\n        if (action.payload.is_active) temporaryPosts.push(action.payload);\\n      } else {\\n        temporaryPosts.push(post);\\n      }\\n    });\\n\\n    return temporaryPosts;\\n  }\\n\\n  return posts;\\n};\\n\\nconst authReducer = (currentUser=null, action) => {\\n  switch(action.type) {\\n    case 'LOGIN_USER':\\n    case 'NEW_USER':\\n      return action.payload;\\n    case 'LOGOUT_USER':\\n      return null;\\n    default:\\n      return currentUser;\\n  }\\n};\\n\\nconst errorsReducer = (errorMessages=[], action) => {\\n  if (action.type.includes('FAILURE')) {\\n    if (typeof action.payload === 'string') {\\n      errorMessages = [action.payload];\\n    } else {\\n      let tempErrors = [];\\n      Object.keys(action.payload).forEach(errorKey => {\\n        if (typeof action.payload[errorKey] === 'string') {\\n          tempErrors.push(action.payload[errorKey]);\\n        } else {\\n          tempErrors = tempErrors.concat(action.payload[errorKey] || []);\\n        }\\n      });\\n\\n      errorMessages = tempErrors;\\n    }\\n  } else {\\n    errorMessages = [];\\n  }\\n\\n  return errorMessages;\\n};\\n\\nconst viewPostReducer = (currentPost=null, action) => {\\n  // React does a shallowEqual on state changes to determine if the component\\n  // should be re-rendered. By cloning the object, we create a different reference.\\n  // This variable will be used for times that the currentPost will be manipulated.\\n  let currentPostCopy = currentPost === null ? null : { ...currentPost };\\n\\n  if (action.type === 'VIEW_POST') {\\n    return action.payload;\\n  }\\n\\n  if (action.type === 'TOGGLE_POST_LIKE') {\\n    if (currentPost !== null && currentPost.id === action.payload.postId) {\\n      currentPostCopy.is_liked = !currentPostCopy.is_liked;\\n      currentPostCopy.likes = currentPostCopy.is_liked\\n                              ? currentPostCopy.likes + 1\\n                              : currentPostCopy.likes - 1;\\n    }\\n  }\\n\\n  if (action.type === 'ADD_COMMENT') {\\n    if (currentPost !== null && currentPost.id === action.payload.post) {\\n      currentPostCopy.comments.push(action.payload);\\n    }\\n  }\\n\\n  if (action.type === 'ADD_POST') {\\n    currentPostCopy = action.payload;\\n  }\\n\\n  currentPost = currentPostCopy;\\n  return currentPost;\\n};\\n\\nexport default combineReducers({\\n  posts: postsReducer,\\n  currentPost: viewPostReducer,\\n  currentUser: authReducer,\\n  errorMessages: errorsReducer,\\n});\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read https://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\\nimport { createStore, applyMiddleware } from 'redux';\\nimport { Provider } from 'react-redux';\\nimport thunk from 'redux-thunk';\\n\\nimport App from './components/App';\\nimport reducers from './reducers';\\nimport { localStorageMiddleware } from './middlewares';\\nimport * as serviceWorker from './serviceWorker';\\n\\nconst store = createStore(reducers, applyMiddleware(thunk, localStorageMiddleware));\\n\\nReactDOM.render(\\n  <Router>\\n    <Provider store={store}>\\n      <div>\\n        <Route path=\\\"/\\\" component={App} />\\n      </div>\\n    </Provider>\\n  </Router>,\\n  document.getElementById('root')\\n);\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\",\"const localStorageMiddleware = store => next => action => {\\n  if (['LOGIN_USER', 'NEW_USER'].includes(action.type)) {\\n    if (action.payload.token) {\\n      window.localStorage.setItem('jwt', action.payload.token);\\n    }\\n  } else if (action.type === 'LOGOUT_USER') {\\n    window.localStorage.removeItem('jwt');\\n  }\\n\\n  next(action);\\n};\\n\\nexport { localStorageMiddleware };\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(295)},295:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(57),i=a.n(s),c=a(2),o=a(27),l=a(32),u=a(13),m=a(133),p=a(3),d=a(4),h=a(6),f=a(5),E=a(7),v=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=r.a.createElement(\"div\",{className:\"ui large borderless menu\"},r.a.createElement(c.b,{className:\"header item\",to:\"/\"},\"Instaz\"),r.a.createElement(c.b,{className:\"right floated item\",to:\"/login\"},\"Login\"),r.a.createElement(c.b,{className:\"item\",to:\"/signup\"},\"Signup\")),t=r.a.createElement(\"div\",{className:\"ui large borderless menu\"},r.a.createElement(c.b,{className:\"header item\",to:\"/\"},\"Instaz\"),r.a.createElement(\"a\",{className:\"clickable right floated item\",onClick:this.props.logoutUser},\"Logout\"));return r.a.createElement(\"div\",{className:\"ui grid Header\"},r.a.createElement(\"div\",{className:\"computer only row\"},r.a.createElement(\"div\",{className:\"column\"},this.props.currentUser?t:e)),r.a.createElement(\"div\",{className:\"tablet mobile only row\"},r.a.createElement(\"div\",{className:\"column\"},r.a.createElement(\"div\",{className:\"ui large borderless menu\"},r.a.createElement(c.b,{className:\"header item\",to:\"/\"},\"Instaz\"),r.a.createElement(\"a\",{id:\"mobile_item\",className:\"item right floated\"},r.a.createElement(\"i\",{className:\"bars icon\"}))))))}}]),t}(r.a.Component),g=a(33),b=a(11),N=a.n(b),y=a(24),O=a(134),w=a.n(O).a.create({baseURL:Object({NODE_ENV:\"production\",PUBLIC_URL:\"\"}).REACT_APP_API_URL});w.interceptors.request.use(function(e){var t=window.localStorage.getItem(\"jwt\");return t&&(e.headers=Object.assign({Authorization:\"Token \".concat(t)},e.headers)),e});var j=w,U=function(){return{type:\"LOGOUT_USER\"}},k=function(e){return function(){var t=Object(y.a)(N.a.mark(function t(a){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.post(\"/posts/\".concat(e,\"/like/\")).then(function(t){a({type:\"TOGGLE_POST_LIKE\",payload:{postId:e}})},function(e){a({type:\"TOGGLE_POST_LIKE_FAILURE\",payload:e.response?e.response.data:e.message})});case 2:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},P=function(e){var t=e.post,a=e.message;return function(){var e=Object(y.a)(N.a.mark(function e(n){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.post(\"/comments/\",{post:t,message:a}).then(function(e){n({type:\"ADD_COMMENT\",payload:e.data})},function(e){n({type:\"ADD_COMMENT_FAILURE\",payload:e.response?e.response.data:e.message})});case 2:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(y.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FormData,Object.keys(e).forEach(function(t){\"image\"===t&&\"string\"===typeof e[t]||n.append(t,e[t])}),t.next=4,j.patch(\"/posts/\".concat(e.id,\"/\"),n,{headers:{\"content-type\":\"multipart/form-data\"}}).then(function(e){a({type:\"EDIT_POST\",payload:e.data})},function(e){a({type:\"EDIT_POST_FAILURE\",payload:e.response?e.response.data:e.message})});case 4:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},C=a(10),_=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"extra content\"},r.a.createElement(C.c,{initialValues:{message:\"\",post:this.props.post.id},onSubmit:function(t,a){var n=a.resetForm;e.props.addComment(t).then(function(e){n(),t.message=\"\"})}},function(t){var a=t.values,n=(t.errors,t.touched,t.isSubmitting),s=t.handleChange;return r.a.createElement(C.b,{className:n?\"ui loading form\":\"ui form\"},r.a.createElement(\"div\",{className:\"ui large transparent left icon input\"},r.a.createElement(\"i\",{className:\"comment outline icon\"}),r.a.createElement(\"input\",{className:\"comment-field\",id:e.props.elementId,type:\"text\",name:\"message\",maxLength:\"400\",placeholder:\"Add Comment...\",onChange:s,value:a.message})))}))}}]),t}(r.a.Component),T=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={isArchiving:!1,redirectToHome:!1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;if(this.state.redirectToHome)return r.a.createElement(o.a,{to:\"/\"});var t=this.props,a=t.currentUser,n=t.post,s=t.isPreview,i=t.showActions;return r.a.createElement(\"div\",{className:\"ui fluid card\"},r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(c.b,{className:\"ui right floated sub header\",to:\"/p/\".concat(n.id)},n.timesince_posted,\" ago\"),r.a.createElement(c.b,{className:\"ui left floated small header\",to:\"/u/\".concat(n.author.username)},r.a.createElement(\"img\",{className:\"ui avatar image\",src:n.author.avatar,alt:\"\".concat(n.author.username,\"'s avatar\")}),n.author.username)),r.a.createElement(\"div\",{className:\"image\"},r.a.createElement(\"img\",{src:n.image,alt:n.caption})),i?function(t,a){return r.a.createElement(\"div\",{className:\"content action-icons\"},r.a.createElement(\"i\",{onClick:function(){return e.props.likePost(a.id)},className:\"clickable big heart like icon\"+(a.is_liked?\" red\":\"\")}),r.a.createElement(\"i\",{onClick:function(){document.getElementById(\"comment-field\".concat(a.id)).focus()},className:\"clickable big comment outline link icon\"}),r.a.createElement(\"i\",{className:\"clickable big share icon\"}),a.author.username===t.username?r.a.createElement(\"span\",{className:\"clickable right floated\",\"data-inverted\":\"\",\"data-tooltip\":e.state.isArchiving?\"Archiving...\":\"Archive this post\",\"data-position\":\"top center\",onClick:function(){e.setState({isArchiving:!0}),e.props.editPost(Object(g.a)({},a,{is_active:!1})).then(function(){e.setState({isArchiving:!1,redirectToHome:!s})})}},r.a.createElement(\"i\",{className:(e.state.isArchiving?\"ui loading circle notch\":\"archive icon\")+\" big link icon\"})):null)}(a,n):null,r.a.createElement(\"div\",{className:\"relaxed content\"},r.a.createElement(\"p\",{className:\"ui sub header\"},n.likes,\" likes\"),r.a.createElement(\"p\",{className:\"post-description\"},r.a.createElement(c.b,{className:\"ui left floated small header author\",to:\"/u/\".concat(n.author.username)},n.author.username),n.caption&&n.caption.length>120&&s?function(e){var t=e.id,a=e.caption;return r.a.createElement(\"span\",null,a+\"...\",\" \",r.a.createElement(c.b,{className:\"ui sub header\",to:\"/p/\".concat(t)},\"View full caption\"))}(n):n.caption),n.comments.length>0?r.a.createElement(\"div\",{className:\"ui divider\"}):null,n.comments.map(function(e,t){return s&&t>2?null:r.a.createElement(\"p\",{key:e.id},r.a.createElement(c.b,{className:\"ui left floated small header\",to:\"/u/\".concat(e.author.username)},e.author.username),e.message)}),s&&n.comments.length>3?r.a.createElement(c.b,{className:\"ui left floated sub header\",to:\"/p/\".concat(n.id)},\"View all comments\"):null),i?r.a.createElement(_,{post:n,addComment:this.props.addComment,elementId:\"comment-field\".concat(n.id)}):null)}}]),t}(r.a.Component),I=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"componentDidMount\",value:function(){this.props.fetchPosts()}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"left aligned nine wide computer sixteen wide mobile column post-list\"},this.props.posts.map(function(t){return r.a.createElement(T,{key:t.id,post:t,currentUser:e.props.currentUser,editPost:e.props.editPost,addComment:e.props.addComment,likePost:e.props.likePost,showActions:!!e.props.currentUser,isPreview:!0})}))}}]),t}(r.a.Component),A=Object(u.b)(function(e){return{posts:e.posts}},{addComment:P,editPost:S,fetchPosts:function(){return function(){var e=Object(y.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get(\"/posts\");case 2:a=e.sent,t({type:\"FETCH_POSTS\",payload:a});case 4:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},likePost:k})(I),L=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e,t=this,a=r.a.createElement(\"div\",{className:\"ui vertical menu sticky-menu\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"ui input\"},r.a.createElement(\"input\",{type:\"text\",placeholder:\"Search...\"}))),r.a.createElement(c.b,{className:\"item\",to:\"/login\"},r.a.createElement(\"i\",{className:\"sign-in icon\"}),\" Login\"),r.a.createElement(c.b,{className:\"item\",to:\"/signup\"},r.a.createElement(\"i\",{className:\"user plus icon\"}),\" Signup\"));return r.a.createElement(\"div\",{className:\"four wide column computer only\"},this.props.currentUser?(e=this.props.currentUser,r.a.createElement(\"div\",{className:\"sticky-menu\"},r.a.createElement(\"div\",{className:\"user-info\"},r.a.createElement(c.b,{className:\"ui medium header\",to:\"/u/\".concat(e.username)},r.a.createElement(\"img\",{className:\"ui avatar image\",src:e.avatar,alt:\"\".concat(e.username,\"'s avatar\")}),e.username)),r.a.createElement(\"div\",{className:\"ui hidden divider\"}),r.a.createElement(c.b,{className:\"ui labeled button add-button\",tabIndex:\"0\",to:\"/p/new\"},r.a.createElement(\"div\",{className:\"ui black button\"},r.a.createElement(\"i\",{className:\"plus square outline icon\"}),\" Add Post\")),r.a.createElement(\"div\",{className:\"ui vertical menu\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"ui input\"},r.a.createElement(\"input\",{type:\"text\",placeholder:\"Search...\"}))),r.a.createElement(\"a\",{className:\"item\"},r.a.createElement(\"i\",{className:\"user icon\"}),\" Profile\"),r.a.createElement(\"a\",{className:\"item\"},r.a.createElement(\"i\",{className:\"archive icon\"}),\" Archive\"),r.a.createElement(\"a\",{className:\"item\"},\"Messages\",r.a.createElement(\"div\",{className:\"ui label\"},\"0\")),r.a.createElement(\"a\",{className:\"item\",onClick:t.props.logoutUser},r.a.createElement(\"i\",{className:\"sign-out icon\"}),\" Logout\")))):a)}}]),t}(r.a.Component),x=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"Home\"},r.a.createElement(\"div\",{className:\"ui container center aligned\"},r.a.createElement(\"div\",{className:\"ui three column stackable grid\"},r.a.createElement(\"div\",{className:\"two wide column computer only\"}),r.a.createElement(A,{currentUser:this.props.currentUser}),r.a.createElement(L,{currentUser:this.props.currentUser,logoutUser:this.props.logoutUser}))))}}]),t}(r.a.Component),R=a(12),D=function(e){var t=e.errors;return t&&t.length>0?r.a.createElement(\"div\",{className:\"ui error message\"},r.a.createElement(\"div\",{className:\"header\"},\"There were some errors with your submission\"),r.a.createElement(\"ul\",{className:\"list\"},t.map(function(e,t){return r.a.createElement(\"li\",{key:t},e)}))):null},F=R.object().shape({username:R.string().required(\"This field is required\"),password:R.string().required(\"This field is required\")}),M=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"Login\"},r.a.createElement(\"div\",{className:\"ui container segment\"},r.a.createElement(\"h2\",{className:\"ui center aligned header\"},r.a.createElement(\"div\",{className:\"content\"},\"Login\",r.a.createElement(\"div\",{className:\"sub header\"},\"Don't have an account yet? \",r.a.createElement(c.b,{to:\"/signup\"},\"Signup\"),\" for an account!\"))),r.a.createElement(D,{errors:this.props.errorMessages}),r.a.createElement(C.c,{initialValues:{username:\"\",password:\"\"},validationSchema:F,onSubmit:function(t,a){var n=a.setSubmitting;e.props.loginUser(t).then(function(e){n(!1)})}},function(e){var t=e.values,a=(e.errors,e.touched,e.isSubmitting),n=e.handleChange;return r.a.createElement(C.b,{className:a?\"ui loading form\":\"ui form\"},r.a.createElement(\"div\",{className:\"required field\"},r.a.createElement(\"label\",null,\"Username\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",onChange:n,value:t.username}),r.a.createElement(\"i\",{className:\"user icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"username\",component:\"div\"})),r.a.createElement(\"div\",{className:\"required field\"},r.a.createElement(\"label\",null,\"Password\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:n,value:t.password}),r.a.createElement(\"i\",{className:\"lock icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"password\",component:\"div\"})),r.a.createElement(\"button\",{className:\"ui button\",type:\"submit\"},\"Submit\"))}),this.props.currentUser?r.a.createElement(o.a,{to:\"/\"}):null))}}]),t}(r.a.Component),q=Object(u.b)(function(e){return{errorMessages:e.errorMessages,currentUser:e.currentUser}},{loginUser:function(e){return function(){var t=Object(y.a)(N.a.mark(function t(a){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.post(\"/users/auth/login/\",Object(g.a)({},e)).then(function(e){a({type:\"LOGIN_USER\",payload:e.data})},function(e){a({type:\"LOGIN_USER_FAILURE\",payload:e.response?e.response.data:e.message})});case 2:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(M),G=R.object().shape({username:R.string().required(\"This field is required\"),email:R.string().email(\"Please provide a valid email\").required(\"This field is required\"),password:R.string().required(\"This field is required\"),passwordConfirmation:R.string().oneOf([R.ref(\"password\"),null],\"Passwords must match\")}),V=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"Signup\"},r.a.createElement(\"div\",{className:\"ui container segment\"},r.a.createElement(\"h2\",{className:\"ui center aligned header\"},r.a.createElement(\"div\",{className:\"content\"},\"Signup\",r.a.createElement(\"div\",{className:\"sub header\"},\"Already have an account? Use it to \",r.a.createElement(c.b,{to:\"/login\"},\"login\"),\"!\"))),r.a.createElement(D,{errors:this.props.errorMessages}),r.a.createElement(C.c,{initialValues:{username:\"\",email:\"\",password:\"\",passwordConfirmation:\"\"},validationSchema:G,onSubmit:function(t,a){var n=a.setSubmitting;e.props.registerUser(t).then(function(e){n(!1)})}},function(e){var t=e.values,a=(e.errors,e.touched,e.isSubmitting),n=e.handleChange;return r.a.createElement(C.b,{className:a?\"ui loading form\":\"ui form\"},r.a.createElement(\"div\",{className:\"required field\"},r.a.createElement(\"label\",null,\"Username\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",onChange:n,value:t.username}),r.a.createElement(\"i\",{className:\"user icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"username\",component:\"div\"})),r.a.createElement(\"div\",{className:\"field\"},r.a.createElement(\"label\",null,\"Email address\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email address\",onChange:n,value:t.email}),r.a.createElement(\"i\",{className:\"envelope outline icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"email\",component:\"div\"})),r.a.createElement(\"div\",{className:\"required field\"},r.a.createElement(\"label\",null,\"Password\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:n,value:t.password}),r.a.createElement(\"i\",{className:\"lock icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"password\",component:\"div\"})),r.a.createElement(\"div\",{className:\"required field\"},r.a.createElement(\"label\",null,\"Password Confirmation\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"password\",name:\"passwordConfirmation\",placeholder:\"Password Confirmation\",onChange:n,value:t.passwordConfirmation}),r.a.createElement(\"i\",{className:\"lock icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"passwordConfirmation\",component:\"div\"})),r.a.createElement(\"button\",{className:\"ui button\",type:\"submit\"},\"Submit\"))}),this.props.currentUser?r.a.createElement(o.a,{to:\"/\"}):null))}}]),t}(r.a.Component),W=Object(u.b)(function(e){return{errorMessages:e.errorMessages,currentUser:e.currentUser}},{registerUser:function(e){return function(){var t=Object(y.a)(N.a.mark(function t(a){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.post(\"/users/auth/signup/\",Object(g.a)({},e)).then(function(e){a({type:\"NEW_USER\",payload:e.data})},function(e){a({type:\"NEW_USER_FAILURE\",payload:e.response?e.response.data:e.message})});case 2:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(V),H=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"componentDidMount\",value:function(){this.props.viewPost(this.props.match.params.id)}},{key:\"render\",value:function(){var e,t=this,a=r.a.createElement(\"div\",{className:\"ui segment loading-div\"},r.a.createElement(\"div\",{className:\"ui active inverted dimmer\"},r.a.createElement(\"div\",{className:\"ui massive text loader\"},\"Loading\")));return r.a.createElement(\"div\",{className:\"PostDetail\"},r.a.createElement(\"div\",{className:\"ui container center aligned\"},this.props.currentPost?(e=this.props.currentPost,r.a.createElement(\"div\",{className:\"ui three column stackable grid\"},r.a.createElement(\"div\",{className:\"two wide column computer only\"}),r.a.createElement(\"div\",{className:\"left aligned nine wide computer sixteen wide mobile column\"},r.a.createElement(T,{key:e.id,post:e,currentUser:t.props.currentUser,addComment:t.props.addComment,editPost:t.props.editPost,likePost:t.props.likePost,showActions:!!t.props.currentUser,isPreview:!1})),r.a.createElement(L,{currentUser:t.props.currentUser,logoutUser:t.props.logoutUser}))):a))}}]),t}(r.a.Component),z=Object(u.b)(function(e){return{currentPost:e.currentPost,currentUser:e.currentUser}},{addComment:P,editPost:S,likePost:k,logoutUser:U,viewPost:function(e){return function(){var t=Object(y.a)(N.a.mark(function t(a){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get(\"/posts/\".concat(e,\"/\")).then(function(e){a({type:\"VIEW_POST\",payload:e.data})},function(e){a({type:\"VIEW_POST_FAILURE\",payload:e.response?e.response.data:e.message})});case 2:case\"end\":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(H),B=[\"image/jpg\",\"image/jpeg\",\"image/gif\",\"image/png\"],K=R.object().shape({image:R.mixed().required(\"This field is required\").test(\"fileSize\",\"File too large (should not be bigger than 3 MB)\",function(e){return e&&e.size<=3145728}).test(\"fileFormat\",\"Unsupported Format (Only JPG, PNG, and GIFs are accepted)\",function(e){return e&&B.includes(e.type)}),caption:R.string().max(200,\"Caption can only be up to 200 characters.\")}),J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,thumb:void 0,rawFile:null},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"componentWillReceiveProps\",value:function(e){var t=this;e.file&&e.file!==this.state.rawFile&&this.setState({loading:!0,rawFile:e.file},function(){var a=new FileReader;a.onloadend=function(){t.setState({loading:!1,thumb:a.result})},a.readAsDataURL(e.file)})}},{key:\"render\",value:function(){var e=this.props.file,t=this.state,a=t.loading,n=t.thumb;return e?a?r.a.createElement(\"p\",null,\"Loading...\"):r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:\"ui tiny header\"},\"Preview:\"),r.a.createElement(\"img\",{src:n,alt:e.name,className:\"ui centered bordered medium image\"})):null}}]),t}(r.a.Component),$=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={createdPost:null},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;return null===this.props.currentUser?r.a.createElement(o.a,{to:\"/login\"}):null!==this.state.createdPost?r.a.createElement(o.a,{to:\"/p/\".concat(this.state.createdPost.id)}):r.a.createElement(\"div\",{className:\"PostForm\"},r.a.createElement(\"div\",{className:\"ui container segment\"},r.a.createElement(\"h2\",{className:\"ui center aligned header\"},r.a.createElement(\"div\",{className:\"content\"},\"Add Post\",r.a.createElement(\"div\",{className:\"sub header\"},\"Share a moment with everyone!\"))),r.a.createElement(D,{errors:this.props.errorMessages}),r.a.createElement(C.c,{initialValues:{image:null,caption:\"\"},validationSchema:K,onSubmit:function(t,a){var n=a.setSubmitting;a.props;e.props.addPost(t).then(function(t){n(!1),e.setState({createdPost:e.props.currentPost})})}},function(e){var t=e.values,a=(e.errors,e.touched,e.isSubmitting),n=e.handleChange,s=e.setFieldValue;return r.a.createElement(C.b,{className:a?\"ui loading form\":\"ui form\"},r.a.createElement(\"div\",{className:\"required field\"},r.a.createElement(\"label\",null,\"Image\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"file\",name:\"image\",placeholder:\"Image\",onChange:function(e){s(\"image\",e.currentTarget.files[0])}}),r.a.createElement(\"i\",{className:\"file image icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"image\",component:\"div\"})),r.a.createElement(J,{file:t.image}),r.a.createElement(\"div\",{className:\"field\"},r.a.createElement(\"label\",null,\"Caption\"),r.a.createElement(\"div\",{className:\"ui left icon input\"},r.a.createElement(\"input\",{type:\"caption\",name:\"caption\",placeholder:\"Caption\",onChange:n,value:t.caption}),r.a.createElement(\"i\",{className:\"quote left icon\"})),r.a.createElement(C.a,{className:\"error\",name:\"caption\",component:\"div\"})),r.a.createElement(\"button\",{className:\"ui button\",type:\"submit\"},\"Submit\"))})))}}]),t}(r.a.Component),Q=Object(u.b)(function(e){return{errorMessages:e.errorMessages,currentUser:e.currentUser,currentPost:e.currentPost}},{addPost:function(e){var t=e.image,a=e.caption;return function(){var e=Object(y.a)(N.a.mark(function e(n){var r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append(\"image\",t),r.append(\"caption\",a),e.next=5,j.post(\"/posts/\",r,{headers:{\"content-type\":\"multipart/form-data\"}}).then(function(e){n({type:\"ADD_POST\",payload:e.data})},function(e){n({type:\"ADD_POST_FAILURE\",payload:e.response?e.response.data:e.message})});case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})($),X=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(v,{currentUser:this.props.currentUser,logoutUser:this.props.logoutUser}),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:\"/\",exact:!0,component:function(){return r.a.createElement(x,{currentUser:e.props.currentUser,logoutUser:e.props.logoutUser})}}),r.a.createElement(o.b,{path:\"/login\",component:q}),r.a.createElement(o.b,{path:\"/signup\",component:W}),r.a.createElement(o.b,{path:\"/p/new\",component:Q}),r.a.createElement(o.b,{path:\"/p/:id\",component:z})))}}]),t}(r.a.Component),Y=Object(u.b)(function(e){return{currentUser:e.currentUser}},{logoutUser:U})(X),Z=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(\"FETCH_POSTS\"===t.type)return t.payload.data;if(\"TOGGLE_POST_LIKE\"===t.type)return e.map(function(e){return e.id===t.payload.postId&&(e.is_liked=!e.is_liked,e.likes=e.is_liked?e.likes+1:e.likes-1),e});if(\"ADD_COMMENT\"===t.type)return e.map(function(e){return e.id===t.payload.post&&e.comments.push(t.payload),e});if(\"EDIT_POST\"===t.type){var a=[];return e.forEach(function(e){e.id===t.payload.id?t.payload.is_active&&a.push(t.payload):a.push(e)}),a}return e},currentPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=null===e?null:Object(g.a)({},e);return\"VIEW_POST\"===t.type?t.payload:(\"TOGGLE_POST_LIKE\"===t.type&&null!==e&&e.id===t.payload.postId&&(a.is_liked=!a.is_liked,a.likes=a.is_liked?a.likes+1:a.likes-1),\"ADD_COMMENT\"===t.type&&null!==e&&e.id===t.payload.post&&a.comments.push(t.payload),\"ADD_POST\"===t.type&&(a=t.payload),e=a)},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"LOGIN_USER\":case\"NEW_USER\":return t.payload;case\"LOGOUT_USER\":return null;default:return e}},errorMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type.includes(\"FAILURE\"))if(\"string\"===typeof t.payload)e=[t.payload];else{var a=[];Object.keys(t.payload).forEach(function(e){\"string\"===typeof t.payload[e]?a.push(t.payload[e]):a=a.concat(t.payload[e]||[])}),e=a}else e=[];return e}});Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=Object(l.d)(Z,Object(l.a)(m.a,function(e){return function(e){return function(t){[\"LOGIN_USER\",\"NEW_USER\"].includes(t.type)?t.payload.token&&window.localStorage.setItem(\"jwt\",t.payload.token):\"LOGOUT_USER\"===t.type&&window.localStorage.removeItem(\"jwt\"),e(t)}}}));i.a.render(r.a.createElement(c.a,null,r.a.createElement(u.a,{store:ee},r.a.createElement(\"div\",null,r.a.createElement(o.b,{path:\"/\",component:Y})))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[138,1,2]]]);","extractedComments":[]}