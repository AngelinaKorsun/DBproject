{"ast":null,"code":"import _classCallCheck from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Link,Redirect}from'react-router-dom';import{connect}from'react-redux';import{Formik,Form,ErrorMessage}from'formik';import*as Yup from'yup';import{registerUser}from'../actions';import ErrorMessages from'./ErrorMessages';var SignupSchema=Yup.object().shape({username:Yup.string().required('This field is required'),email:Yup.string().email('Please provide a valid email').required('This field is required'),password:Yup.string().required('This field is required'),passwordConfirmation:Yup.string().oneOf([Yup.ref('password'),null],'Passwords must match')});var Signup=/*#__PURE__*/function(_React$Component){_inherits(Signup,_React$Component);function Signup(){_classCallCheck(this,Signup);return _possibleConstructorReturn(this,_getPrototypeOf(Signup).apply(this,arguments));}_createClass(Signup,[{key:\"render\",value:function render(){var _this=this;return React.createElement(\"div\",{className:\"Signup\"},React.createElement(\"div\",{className:\"ui container segment\"},React.createElement(\"h2\",{className:\"ui center aligned header\"},React.createElement(\"div\",{className:\"content\"},\"Signup\",React.createElement(\"div\",{className:\"sub header\"},\"Already have an account? Use it to \",React.createElement(Link,{to:\"/login\"},\"login\"),\"!\"))),React.createElement(ErrorMessages,{errors:this.props.errorMessages}),React.createElement(Formik,{initialValues:{username:'',email:'',password:'',passwordConfirmation:''},validationSchema:SignupSchema,onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;_this.props.registerUser(values).then(function(response){setSubmitting(false);});}},function(_ref2){var values=_ref2.values,errors=_ref2.errors,touched=_ref2.touched,isSubmitting=_ref2.isSubmitting,handleChange=_ref2.handleChange;return React.createElement(Form,{className:isSubmitting?\"ui loading form\":\"ui form\"},React.createElement(\"div\",{className:\"required field\"},React.createElement(\"label\",null,\"Username\"),React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",onChange:handleChange,value:values.username}),React.createElement(\"i\",{className:\"user icon\"})),React.createElement(ErrorMessage,{className:\"error\",name:\"username\",component:\"div\"})),React.createElement(\"div\",{className:\"field\"},React.createElement(\"label\",null,\"Email address\"),React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email address\",onChange:handleChange,value:values.email}),React.createElement(\"i\",{className:\"envelope outline icon\"})),React.createElement(ErrorMessage,{className:\"error\",name:\"email\",component:\"div\"})),React.createElement(\"div\",{className:\"required field\"},React.createElement(\"label\",null,\"Password\"),React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,value:values.password}),React.createElement(\"i\",{className:\"lock icon\"})),React.createElement(ErrorMessage,{className:\"error\",name:\"password\",component:\"div\"})),React.createElement(\"div\",{className:\"required field\"},React.createElement(\"label\",null,\"Password Confirmation\"),React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"input\",{type:\"password\",name:\"passwordConfirmation\",placeholder:\"Password Confirmation\",onChange:handleChange,value:values.passwordConfirmation}),React.createElement(\"i\",{className:\"lock icon\"})),React.createElement(ErrorMessage,{className:\"error\",name:\"passwordConfirmation\",component:\"div\"})),React.createElement(\"button\",{className:\"ui button\",type:\"submit\"},\"Submit\"));}),this.props.currentUser?React.createElement(Redirect,{to:\"/\"}):null));}}]);return Signup;}(React.Component);var mapStateToProps=function mapStateToProps(state){var errorMessages=state.errorMessages,currentUser=state.currentUser;return{errorMessages:errorMessages,currentUser:currentUser};};export default connect(mapStateToProps,{registerUser:registerUser})(Signup);","map":{"version":3,"sources":["/home/sergol/DBprojects/instaz/frontend/src/components/Signup.js"],"names":["React","Link","Redirect","connect","Formik","Form","ErrorMessage","Yup","registerUser","ErrorMessages","SignupSchema","object","shape","username","string","required","email","password","passwordConfirmation","oneOf","ref","Signup","props","errorMessages","values","setSubmitting","then","response","errors","touched","isSubmitting","handleChange","currentUser","Component","mapStateToProps","state"],"mappings":"oyBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,YAAvB,KAA2C,QAA3C,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CAEA,OAASC,YAAT,KAA6B,YAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,GAAMC,CAAAA,YAAY,CAAGH,GAAG,CAACI,MAAJ,GAAaC,KAAb,CAAmB,CACtCC,QAAQ,CAAEN,GAAG,CAACO,MAAJ,GACPC,QADO,CACE,wBADF,CAD4B,CAGtCC,KAAK,CAAET,GAAG,CAACO,MAAJ,GACJE,KADI,CACE,8BADF,EAEJD,QAFI,CAEK,wBAFL,CAH+B,CAMtCE,QAAQ,CAAEV,GAAG,CAACO,MAAJ,GACPC,QADO,CACE,wBADF,CAN4B,CAQtCG,oBAAoB,CAAEX,GAAG,CAACO,MAAJ,GACnBK,KADmB,CACb,CAACZ,GAAG,CAACa,GAAJ,CAAQ,UAAR,CAAD,CAAsB,IAAtB,CADa,CACgB,sBADhB,CARgB,CAAnB,CAArB,C,GAYMC,CAAAA,M,4QACK,gBACP,MACE,4BAAK,SAAS,CAAC,QAAf,EACE,2BAAK,SAAS,CAAC,sBAAf,EACE,0BAAI,SAAS,CAAC,0BAAd,EACE,2BAAK,SAAS,CAAC,SAAf,WAEE,2BAAK,SAAS,CAAC,YAAf,wCAA+D,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,UAA/D,KAFF,CADF,CADF,CAOE,oBAAC,aAAD,EAAe,MAAM,CAAE,KAAKC,KAAL,CAAWC,aAAlC,EAPF,CAQE,oBAAC,MAAD,EACE,aAAa,CAAE,CACbV,QAAQ,CAAE,EADG,CAEbG,KAAK,CAAE,EAFM,CAGbC,QAAQ,CAAE,EAHG,CAIbC,oBAAoB,CAAE,EAJT,CADjB,CAOE,gBAAgB,CAAER,YAPpB,CAQE,QAAQ,CAAE,kBAACc,MAAD,MAA+B,IAApBC,CAAAA,aAAoB,MAApBA,aAAoB,CACvC,KAAI,CAACH,KAAL,CAAWd,YAAX,CAAwBgB,MAAxB,EAAgCE,IAAhC,CAAqC,SAAAC,QAAQ,CAAI,CAC/CF,aAAa,CAAC,KAAD,CAAb,CACD,CAFD,EAGD,CAZH,EAcG,mBAAGD,CAAAA,MAAH,OAAGA,MAAH,CAAWI,MAAX,OAAWA,MAAX,CAAmBC,OAAnB,OAAmBA,OAAnB,CAA4BC,YAA5B,OAA4BA,YAA5B,CAA0CC,YAA1C,OAA0CA,YAA1C,OACC,qBAAC,IAAD,EAAM,SAAS,CAAED,YAAY,CAAG,iBAAH,CAAuB,SAApD,EACE,2BAAK,SAAS,CAAC,gBAAf,EACE,4CADF,CAEE,2BAAK,SAAS,CAAC,oBAAf,EACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,WAAW,CAAC,UAA/C,CAA0D,QAAQ,CAAEC,YAApE,CAAkF,KAAK,CAAEP,MAAM,CAACX,QAAhG,EADF,CAEE,yBAAG,SAAS,CAAC,WAAb,EAFF,CAFF,CAME,oBAAC,YAAD,EAAc,SAAS,CAAC,OAAxB,CAAgC,IAAI,CAAC,UAArC,CAAgD,SAAS,CAAC,KAA1D,EANF,CADF,CASE,2BAAK,SAAS,CAAC,OAAf,EACE,iDADF,CAEE,2BAAK,SAAS,CAAC,oBAAf,EACE,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,WAAW,CAAC,eAA7C,CAA6D,QAAQ,CAAEkB,YAAvE,CAAqF,KAAK,CAAEP,MAAM,CAACR,KAAnG,EADF,CAEE,yBAAG,SAAS,CAAC,uBAAb,EAFF,CAFF,CAME,oBAAC,YAAD,EAAc,SAAS,CAAC,OAAxB,CAAgC,IAAI,CAAC,OAArC,CAA6C,SAAS,CAAC,KAAvD,EANF,CATF,CAiBE,2BAAK,SAAS,CAAC,gBAAf,EACE,4CADF,CAEE,2BAAK,SAAS,CAAC,oBAAf,EACE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,WAAW,CAAC,UAAnD,CAA8D,QAAQ,CAAEe,YAAxE,CAAsF,KAAK,CAAEP,MAAM,CAACP,QAApG,EADF,CAEE,yBAAG,SAAS,CAAC,WAAb,EAFF,CAFF,CAME,oBAAC,YAAD,EAAc,SAAS,CAAC,OAAxB,CAAgC,IAAI,CAAC,UAArC,CAAgD,SAAS,CAAC,KAA1D,EANF,CAjBF,CAyBE,2BAAK,SAAS,CAAC,gBAAf,EACE,yDADF,CAEE,2BAAK,SAAS,CAAC,oBAAf,EACE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,sBAA5B,CAAmD,WAAW,CAAC,uBAA/D,CAAuF,QAAQ,CAAEc,YAAjG,CAA+G,KAAK,CAAEP,MAAM,CAACN,oBAA7H,EADF,CAEE,yBAAG,SAAS,CAAC,WAAb,EAFF,CAFF,CAME,oBAAC,YAAD,EAAc,SAAS,CAAC,OAAxB,CAAgC,IAAI,CAAC,sBAArC,CAA4D,SAAS,CAAC,KAAtE,EANF,CAzBF,CAiCE,8BAAQ,SAAS,CAAC,WAAlB,CAA8B,IAAI,CAAC,QAAnC,WAjCF,CADD,EAdH,CARF,CA6DI,KAAKI,KAAL,CAAWU,WAAX,CAAyB,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAzB,CAA+C,IA7DnD,CADF,CADF,CAoED,C,oBAtEkBhC,KAAK,CAACiC,S,EAyE3B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,IACvBZ,CAAAA,aADuB,CACQY,KADR,CACvBZ,aADuB,CACRS,WADQ,CACQG,KADR,CACRH,WADQ,CAE/B,MAAO,CAAET,aAAa,CAAbA,aAAF,CAAiBS,WAAW,CAAXA,WAAjB,CAAP,CACD,CAHD,CAKA,cAAe7B,CAAAA,OAAO,CACpB+B,eADoB,CAEpB,CAAE1B,YAAY,CAAZA,YAAF,CAFoB,CAAP,CAGba,MAHa,CAAf","sourcesContent":["import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Formik, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nimport { registerUser } from '../actions';\nimport ErrorMessages from './ErrorMessages';\n\nconst SignupSchema = Yup.object().shape({\n  username: Yup.string()\n    .required('This field is required'),\n  email: Yup.string()\n    .email('Please provide a valid email')\n    .required('This field is required'),\n  password: Yup.string()\n    .required('This field is required'),\n  passwordConfirmation: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n});\n\nclass Signup extends React.Component {\n  render() {\n    return (\n      <div className=\"Signup\">\n        <div className=\"ui container segment\">\n          <h2 className=\"ui center aligned header\">\n            <div className=\"content\">\n              Signup\n              <div className=\"sub header\">Already have an account? Use it to <Link to=\"/login\">login</Link>!</div>\n            </div>\n          </h2>\n          <ErrorMessages errors={this.props.errorMessages} />\n          <Formik\n            initialValues={{\n              username: '',\n              email: '',\n              password: '',\n              passwordConfirmation: '',\n            }}\n            validationSchema={SignupSchema}\n            onSubmit={(values, { setSubmitting }) => {\n              this.props.registerUser(values).then(response => {\n                setSubmitting(false);\n              });\n            }}\n          >\n            {({ values, errors, touched, isSubmitting, handleChange }) => (\n              <Form className={isSubmitting ? \"ui loading form\" : \"ui form\"}>\n                <div className=\"required field\">\n                  <label>Username</label>\n                  <div className=\"ui left icon input\">\n                    <input type=\"text\" name=\"username\" placeholder=\"Username\" onChange={handleChange} value={values.username} />\n                    <i className=\"user icon\"></i>\n                  </div>\n                  <ErrorMessage className=\"error\" name=\"username\" component=\"div\" />\n                </div>\n                <div className=\"field\">\n                  <label>Email address</label>\n                  <div className=\"ui left icon input\">\n                    <input type=\"email\" name=\"email\" placeholder=\"Email address\" onChange={handleChange} value={values.email} />\n                    <i className=\"envelope outline icon\"></i>\n                  </div>\n                  <ErrorMessage className=\"error\" name=\"email\" component=\"div\" />\n                </div>\n                <div className=\"required field\">\n                  <label>Password</label>\n                  <div className=\"ui left icon input\">\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={handleChange} value={values.password} />\n                    <i className=\"lock icon\"></i>\n                  </div>\n                  <ErrorMessage className=\"error\" name=\"password\" component=\"div\" />\n                </div>\n                <div className=\"required field\">\n                  <label>Password Confirmation</label>\n                  <div className=\"ui left icon input\">\n                    <input type=\"password\" name=\"passwordConfirmation\" placeholder=\"Password Confirmation\" onChange={handleChange} value={values.passwordConfirmation} />\n                    <i className=\"lock icon\"></i>\n                  </div>\n                  <ErrorMessage className=\"error\" name=\"passwordConfirmation\" component=\"div\" />\n                </div>\n                <button className=\"ui button\" type=\"submit\">Submit</button>\n              </Form>\n            )}\n          </Formik>\n          {\n            this.props.currentUser ? <Redirect to=\"/\" /> : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { errorMessages, currentUser } = state;\n  return { errorMessages, currentUser };\n};\n\nexport default connect(\n  mapStateToProps,\n  { registerUser }\n)(Signup);\n"]},"metadata":{},"sourceType":"module"}