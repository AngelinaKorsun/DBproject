{"ast":null,"code":"import _classCallCheck from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/sergol/DBprojects/instaz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{Link,Redirect}from'react-router-dom';import{Formik,Form,ErrorMessage}from'formik';import*as Yup from'yup';import{loginUser}from'../actions';import ErrorMessages from'./ErrorMessages';var LoginSchema=Yup.object().shape({username:Yup.string().required('This field is required'),password:Yup.string().required('This field is required')});var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(){_classCallCheck(this,Login);return _possibleConstructorReturn(this,_getPrototypeOf(Login).apply(this,arguments));}_createClass(Login,[{key:\"render\",value:function render(){var _this=this;return React.createElement(\"div\",{className:\"Login\"},React.createElement(\"div\",{className:\"ui container segment\"},React.createElement(\"h2\",{className:\"ui center aligned header\"},React.createElement(\"div\",{className:\"content\"},\"Login\",React.createElement(\"div\",{className:\"sub header\"},\"Don't have an account yet? \",React.createElement(Link,{to:\"/signup\"},\"Signup\"),\" for an account!\"))),React.createElement(ErrorMessages,{errors:this.props.errorMessages}),React.createElement(Formik,{initialValues:{username:'',password:''},validationSchema:LoginSchema,onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;_this.props.loginUser(values).then(function(response){setSubmitting(false);});}},function(_ref2){var values=_ref2.values,errors=_ref2.errors,touched=_ref2.touched,isSubmitting=_ref2.isSubmitting,handleChange=_ref2.handleChange;return React.createElement(Form,{className:isSubmitting?\"ui loading form\":\"ui form\"},React.createElement(\"div\",{className:\"required field\"},React.createElement(\"label\",null,\"Username\"),React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",onChange:handleChange,value:values.username}),React.createElement(\"i\",{className:\"user icon\"})),React.createElement(ErrorMessage,{className:\"error\",name:\"username\",component:\"div\"})),React.createElement(\"div\",{className:\"required field\"},React.createElement(\"label\",null,\"Password\"),React.createElement(\"div\",{className:\"ui left icon input\"},React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,value:values.password}),React.createElement(\"i\",{className:\"lock icon\"})),React.createElement(ErrorMessage,{className:\"error\",name:\"password\",component:\"div\"})),React.createElement(\"button\",{className:\"ui button\",type:\"submit\"},\"Submit\"));}),this.props.currentUser?React.createElement(Redirect,{to:\"/\"}):null));}}]);return Login;}(React.Component);var mapStateToProps=function mapStateToProps(state){var errorMessages=state.errorMessages,currentUser=state.currentUser;return{errorMessages:errorMessages,currentUser:currentUser};};export default connect(mapStateToProps,{loginUser:loginUser})(Login);","map":{"version":3,"sources":["/home/sergol/DBprojects/instaz/frontend/src/components/Login.js"],"names":["React","connect","Link","Redirect","Formik","Form","ErrorMessage","Yup","loginUser","ErrorMessages","LoginSchema","object","shape","username","string","required","password","Login","props","errorMessages","values","setSubmitting","then","response","errors","touched","isSubmitting","handleChange","currentUser","Component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Formik, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nimport { loginUser } from '../actions';\nimport ErrorMessages from './ErrorMessages';\n\nconst LoginSchema = Yup.object().shape({\n  username: Yup.string()\n    .required('This field is required'),\n  password: Yup.string()\n    .required('This field is required'),\n});\n\nclass Login extends React.Component {\n  render() {\n    return (\n      <div className=\"Login\">\n        <div className=\"ui container segment\">\n          <h2 className=\"ui center aligned header\">\n            <div className=\"content\">\n              Login\n              <div className=\"sub header\">Don't have an account yet? <Link to=\"/signup\">Signup</Link> for an account!</div>\n            </div>\n          </h2>\n          <ErrorMessages errors={this.props.errorMessages} />\n          <Formik\n            initialValues={{\n              username: '',\n              password: '',\n            }}\n            validationSchema={LoginSchema}\n            onSubmit={(values, { setSubmitting }) => {\n              this.props.loginUser(values).then(response => {\n                setSubmitting(false);\n              });\n            }}\n          >\n            {({ values, errors, touched, isSubmitting, handleChange }) => (\n              <Form className={isSubmitting ? \"ui loading form\" : \"ui form\"}>\n                <div className=\"required field\">\n                  <label>Username</label>\n                  <div className=\"ui left icon input\">\n                    <input type=\"text\" name=\"username\" placeholder=\"Username\" onChange={handleChange} value={values.username} />\n                    <i className=\"user icon\"></i>\n                  </div>\n                  <ErrorMessage className=\"error\" name=\"username\" component=\"div\" />\n                </div>\n                <div className=\"required field\">\n                  <label>Password</label>\n                  <div className=\"ui left icon input\">\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={handleChange} value={values.password} />\n                    <i className=\"lock icon\"></i>\n                  </div>\n                  <ErrorMessage className=\"error\" name=\"password\" component=\"div\" />\n                </div>\n                <button className=\"ui button\" type=\"submit\">Submit</button>\n              </Form>\n            )}\n          </Formik>\n          {\n            this.props.currentUser ? <Redirect to=\"/\" /> : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { errorMessages, currentUser } = state;\n  return { errorMessages, currentUser };\n};\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);\n"]},"metadata":{},"sourceType":"module"}